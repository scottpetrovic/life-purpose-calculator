<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Two-Phase Retirement Calculator</title>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/Chart.js/3.7.0/chart.min.js"></script>
    <link rel="stylesheet"  href="styles.css" />
    <link rel="stylesheet"  href="tooltip.css" />
    <link rel="stylesheet"  href="dialog.css" />
</head>
<body>
    <div class="container">

        <div class="calculator-header">
   
            <h1 style="margin-bottom: 0">Two-Phase Retirement Calculator</h1>

            <div class="tabs">
                <button class="tab active" onclick="openTab(event, 'accumulation')">Accumulation Phase</button>
                <button class="tab" onclick="openTab(event, 'distribution')">Distribution Phase</button>
            </div>
        </div>

      
        <!-- instructions go here with to be seen with a dialog -->
        <p>
            Learn more about the <a href="#" class="open-dialog-link" id="openDialog">philosophy of retirement and money</a>.
        </p>
        <div id="dialogOverlay" class="dialog-overlay">
            <div class="dialog">
                <div class="dialog-header">
                    <h2 class="dialog-title">Building Wealth vs. Living in the Moment</h2>
                    <span class="close-button" id="closeDialog">&times;</span>
                </div>
                <div class="dialog-content">

                    <!-- START TEXT-->

                    <div class="retirement-perspectives">
                      
                        <p>This retirement calculator is broken apart into two distinct sections. Most calculators have everything in one graph, but this is not the best approach. There are two very different mindsets you need to think about with each one. Combining each mindset into one graph loses the essense with what retirement is.</p>
                      
                        <section class="perspective">
                          <h2>Accumulation - Creating Wealth and Freedom</h2>
                          <p>This approach emphasizes long-term financial growth and security.</p>
                      
                           <ul>
                            <li>Prioritize saving and investing early in life</li>
                            <li>Maximize contributions to retirement accounts (401(k)s, IRAs)</li>
                            <li>Invest in a diversified portfolio for potential higher returns</li>
                            <li>Delay gratification now for potentially greater financial freedom later</li>
                            <li>Aim for a large nest egg to support a comfortable retirement lifestyle</li>
                          </ul>      
                        </section>
                      
                        <section class="perspective">
                          <h2>Distribution - Enjoying Life Now</h2>
                          <p>You have worked hard fulfilling someone else's business or dream. Now is time to do what you want. Think hard about spending money to help fulfill your dreams and aspirations.</p>
                      
                          <ul>
                            <li>Accelerate your dreams by leveraging your accumulated wealth</li>
                            <li>Invest in experiences that you've always wanted but couldn't afford before</li>
                            <li>Use your financial power to create lasting memories and impacts</li>
                            <li>Explore new passions or hobbies without financial constraints</li>
                            <li>Consider how your wealth can open doors to new opportunities and adventures</li>
                            <li>Balance enjoying your wealth now with ensuring long-term financial stability</li>
                            <li>Use your resources to make meaningful changes in your life and others'</li>
                          </ul>
                                                 
                        </section>

                      </div>


                    <!-- END TEXT-->

                </div>
            </div>
        </div>
        <!-- end dialog with instructions -->





        <div id="accumulation" class="tab-content active">
            <div class="input-section">
                <form id="accumulationForm">
                    <div class="parameter-input-container">
                        <label for="currentAge">Current Age</label>
                        <input type="number" id="currentAge" value="35" required>
                    </div>
                    <div class="parameter-input-container">
                        <label for="annualIncome">
                            Annual Pre-tax Income

                            <span class="tooltip-container">
                                <span class="tooltip-icon"> i </span>
                                <span class="tooltip-text">Doesn't affect retirement calculations . Shown for informational purposes on the table view with tax rate. </span>
                            </span>
                            
                        </label>
                        <span>
                            <span class="dollar-sign">$</span>
                            <input type="text" id="annualIncome" value="60000" required>
                        </span>                       
                    </div>
                    <div class="parameter-input-container">
                        <label for="currentSavings">Current Retirement Savings</label>
                        <span>
                            <span class="dollar-sign">$</span>
                            <input type="text" id="currentSavings" value="30000" required>
                        </span>
                    </div>
                    <div class="parameter-input-container">
                        <label for="monthlyContributions">Monthly Investment Contribution</label>
                        <span>
                            <span class="dollar-sign">$</span>
                            <input type="text" id="monthlyContributions" value="500" required>
                        </span>
                    </div>

                    <div class="parameter-input-container">
                        <label for="currentMonthlyExpenses">
                            Current Monthly Expenses
                        
                            <span class="tooltip-container">
                                <span class="tooltip-icon"> i </span>
                                <span class="tooltip-text">This will be used in the distribution phase once you hit retirement</span>
                            </span>
                        
                        </label>
                        <span>
                            <span class="dollar-sign">$</span>
                            <input type="text" id="currentMonthlyExpenses" value="2000" required>
                        </span>
                        <span id="monthlyExpensesAtRetirement" class="small-notes"></span>
                    </div>

                    <div class="parameter-input-container">
                        <label for="retirementAge">Retirement Age</label>
                        <input type="number" id="retirementAge" value="67">
                    </div>
                    <div class="parameter-input-container" style="position: relative">
                        <label for="preReturnRate">Pre-retirement Rate of Return</label>
                        <input type="number" id="preReturnRate" value="6" step="0.1">
                        <span style="position: absolute; right: 30px; top: 48px;">%</span>
                    </div>
                    <div class="parameter-input-container" style="position: relative">
                        <label for="inflationRate">Inflation Rate</label>
                        <input type="number" id="inflationRate" value="3" step="0.1">
                        <span style="position: absolute; right: 30px; top: 48px;">%</span>
                    </div>
                    <div class="parameter-input-container" style="position: relative">
                        <label for="incomeIncrease">Annual Income Increase</label>
                        <input type="number" id="incomeIncrease" value="2" step="0.1">
                        <span style="position: absolute; right: 30px; top: 48px;">%</span>
                    </div>
                    <button  type="submit">Calculate Accumulation Phase</button>
                </form>
            </div>
            <div class="results-section">
                
                <div id="accumulationResults">
                    <canvas id="accumulationChart"></canvas>
                    <table id="accumulationTable">
                        <thead>
                            <tr>
                                <th>Year</th>
                                <th>Age</th>
                                <th>
                                    Pre-tax Income

                                    <span class="tooltip-container">
                                        <span class="tooltip-icon"> i </span>
                                        <span class="tooltip-text">Doesn't affect retirement calculations. Shown for informational purposes. Tax brackets are estimated based on 2023 data with an annual adjustment for inflation.</span>
                                    </span>

                                </th>
                                <th>Investment<br/>Contributions</th>
                                <th>Investment<br/>Returns</th>
                                <th>
                                    Total Investments

                                    <span class="tooltip-container">
                                        <span class="tooltip-icon"> i </span>
                                        <span class="tooltip-text">Current investments + investment contributions + investment returns</span>
                                    </span>

                                </th>
                            </tr>
                        </thead>
                        <tbody></tbody>
                    </table>
                </div>
            </div>
        </div>

        <div id="distribution" class="tab-content">
            <div class="input-section">
                <form id="distributionForm">

                    <div class="parameter-input-container">
                        <label for="otherIncome">Other Monthly Retirement Income</label>
                        <span>
                            <span class="dollar-sign">$</span>
                            <input type="text" id="otherIncome" value="0" required>
                        </span>
                    </div>
                    <div class="parameter-input-container">
                        <label for="lifeExpectancy">Life Expectancy</label>
                        <input type="number" id="lifeExpectancy" value="95">
                    </div>
                    <div class="parameter-input-container" style="position: relative">
                        <label for="postReturnRate">Post-retirement Rate of Return (%)</label>
                        <input type="number" id="postReturnRate" value="5" step="0.1">
                        <span style="position: absolute; right: 30px; top: 48px;">%</span>
                    </div>
                    <div class="parameter-input-container" style="position: relative">
                        <label for="inflationRateDistribution">Inflation Rate (%)</label>
                        <input type="number" id="inflationRateDistribution" value="3" step="0.1">
                        <span style="position: absolute; right: 30px; top: 48px;">%</span>
                    </div>

                    <div class="parameter-input-container">
                        <label for="retirementSavings">Starting Retirement Amount</label>
                        <span>
                            <span class="dollar-sign">$</span>
                            <input type="text" style="opacity: 0.5" id="retirementSavings" required disabled>
                        </span>
                    </div>

                    <div class="parameter-input-container">
                        <label for="monthlySocialSecurity">Starting Monthly Social Security benefits</label>
                        <span>
                            <span class="dollar-sign">$</span>
                            <input type="text" id="monthlySocialSecurity" value="0" required disabled style="opacity: 0.5">
                        </span>
                    </div>

                    <button type="submit">Calculate Distribution Phase</button>
                </form>
            </div>
            <div class="results-section">
                <div id="distributionResults">
                    <canvas id="distributionChart"></canvas>
                    <table id="distributionTable">
                        <thead>
                            <tr>
                                <th>Year</th>
                                <th>Age</th>
                                <th>
                                    Expenses

                                    <span class="tooltip-container">
                                        <span class="tooltip-icon"> i </span>
                                        <span class="tooltip-text">Current living expenses. They are being adjusted for inflation with what you specified.</span>
                                    </span>
                                </th>
                                <th>Social Security</th>
                                <th>Investment Income</th>
                                <th>Other Income</th>
                                <th>
                                    Withdrawal

                                    <span class="tooltip-container">
                                        <span class="tooltip-icon"> i </span>
                                        <span class="tooltip-text">How much will you have to dip into your savings. Negative values means you are adding money to your savings.</span>
                                    </span>

                                </th>
                                <th>Remaining Investments</th>
                            </tr>
                        </thead>
                        <tbody></tbody>
                    </table>
                </div>
            </div>
        </div>
    </div>


    <script src="TaxCalculator.js"></script> <!-- logic to help determine taxes -->
    <script src="dialog.js"></script> <!-- logic to show and close learning dialog -->
    <script src="script.js"></script>

</body>
</html>